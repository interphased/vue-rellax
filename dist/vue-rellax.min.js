/*!
 * Vue Rellax v0.1.0
 * https://github.com/yutahaga/vue-rellax
 *
 * @license
 * Copyright (c) 2018 undefined
 * Released under the MIT license
 * https://github.com/yutahaga/vue-rellax/blob/master/LICENSE
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e["Vue Rellax"]=t()}(this,function(){"use strict";var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var e,r=(function(e){var t,o;t="undefined"!=typeof window?window:n,o=function(){var g=function(e,t){var P=Object.create(g.prototype),m=0,B=0,f=0,D=0,w=[],n=!0,o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},r=null,i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassive",null,a),window.removeEventListener("testPassive",null,a)}catch(e){}var l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,x=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var t=["Webkit","Moz","ms"];for(var o in t)if(void 0!==e.style[t[o]+"Transform"])return t[o]+"Transform"}return"transform"}();P.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}},t&&Object.keys(t).forEach(function(e){P.options[e]=t[e]}),t&&t.breakpoints&&function(){if(3===P.options.breakpoints.length&&Array.isArray(P.options.breakpoints)){var t,o=!0,n=!0;if(P.options.breakpoints.forEach(function(e){"number"!=typeof e&&(n=!1),null!==t&&e<t&&(o=!1),t=e}),o&&n)return}P.options.breakpoints=[576,768,1201],console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}(),e||(e=".rellax");var s="string"==typeof e?document.querySelectorAll(e):[e];if(0<s.length){if(P.elems=s,P.options.wrapper&&!P.options.wrapper.nodeType){var p=document.querySelector(P.options.wrapper);if(!p)return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.");P.options.wrapper=p}var V,d=function(){for(var e=0;e<w.length;e++)P.elems[e].style.cssText=w[e].style;var t,o;w=[],B=window.innerHeight,D=window.innerWidth,t=D,o=P.options.breakpoints,V=t<o[0]?"xs":t>=o[0]&&t<o[1]?"sm":t>=o[1]&&t<o[2]?"md":"lg",u(),function(){for(var e=0;e<P.elems.length;e++){var t=c(P.elems[e]);w.push(t)}}(),b(),n&&(window.addEventListener("resize",d),n=!1,h())},c=function(e){var t,o=e.getAttribute("data-rellax-percentage"),n=e.getAttribute("data-rellax-speed"),r=e.getAttribute("data-rellax-xs-speed"),i=e.getAttribute("data-rellax-mobile-speed"),a=e.getAttribute("data-rellax-tablet-speed"),l=e.getAttribute("data-rellax-desktop-speed"),s=e.getAttribute("data-rellax-vertical-speed"),p=e.getAttribute("data-rellax-horizontal-speed"),d=e.getAttribute("data-rellax-vertical-scroll-axis"),c=e.getAttribute("data-rellax-horizontal-scroll-axis"),u=e.getAttribute("data-rellax-zindex")||0,m=e.getAttribute("data-rellax-min"),f=e.getAttribute("data-rellax-max"),w=e.getAttribute("data-rellax-min-x"),x=e.getAttribute("data-rellax-max-x"),v=e.getAttribute("data-rellax-min-y"),h=e.getAttribute("data-rellax-max-y"),b=!0;r||i||a||l?t={xs:r,sm:i,md:a,lg:l}:b=!1;var g=P.options.wrapper?P.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;P.options.relativeToWrapper&&(g=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-P.options.wrapper.offsetTop);var y=P.options.vertical&&(o||P.options.center)?g:0,A=P.options.horizontal&&(o||P.options.center)?P.options.wrapper?P.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,z=y+e.getBoundingClientRect().top,T=e.clientHeight||e.offsetHeight||e.scrollHeight,E=A+e.getBoundingClientRect().left,L=e.clientWidth||e.offsetWidth||e.scrollWidth,S=o||(y-z+B)/(T+B),k=o||(A-E+D)/(L+D);P.options.center&&(S=k=.5);var Y=b&&null!==t[V]?Number(t[V]):n||P.options.speed,O=s||P.options.verticalSpeed,X=p||P.options.horizontalSpeed,R=d||P.options.verticalScrollAxis,W=c||P.options.horizontalScrollAxis,q=G(k,S,Y,O,X),F=e.style.cssText,M="",C=/transform\s*:/i.exec(F);if(C){var j=C.index,H=F.slice(j),N=H.indexOf(";");M=N?" "+H.slice(11,N).replace(/\s/g,""):" "+H.slice(11).replace(/\s/g,"")}return{baseX:q.x,baseY:q.y,top:z,left:E,height:T,width:L,speed:Y,verticalSpeed:O,horizontalSpeed:X,verticalScrollAxis:R,horizontalScrollAxis:W,style:F,transform:M,zindex:u,min:m,max:f,minX:w,maxX:x,minY:v,maxY:h}},u=function(){var e=m,t=f;if(m=P.options.wrapper?P.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,f=P.options.wrapper?P.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,P.options.relativeToWrapper){var o=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;m=o-P.options.wrapper.offsetTop}return!(e==m||!P.options.vertical)||!(t==f||!P.options.horizontal)},G=function(e,t,o,n,r){var i={},a=(r||o)*(100*(1-e)),l=(n||o)*(100*(1-t));return i.x=P.options.round?Math.round(a):Math.round(100*a)/100,i.y=P.options.round?Math.round(l):Math.round(100*l)/100,i},v=function(){window.removeEventListener("resize",v),window.removeEventListener("orientationchange",v),(P.options.wrapper?P.options.wrapper:window).removeEventListener("scroll",v),(P.options.wrapper?P.options.wrapper:document).removeEventListener("touchmove",v),r=o(h)},h=function(){u()&&!1===n?(b(),r=o(h)):(r=null,window.addEventListener("resize",v),window.addEventListener("orientationchange",v),(P.options.wrapper?P.options.wrapper:window).addEventListener("scroll",v,!!i&&{passive:!0}),(P.options.wrapper?P.options.wrapper:document).addEventListener("touchmove",v,!!i&&{passive:!0}))},b=function(){for(var e,t=0;t<P.elems.length;t++){var o=w[t].verticalScrollAxis.toLowerCase(),n=w[t].horizontalScrollAxis.toLowerCase(),r=-1!=o.indexOf("x")?m:0,i=-1!=o.indexOf("y")?m:0,a=-1!=n.indexOf("x")?f:0,l=(i+(-1!=n.indexOf("y")?f:0)-w[t].top+B)/(w[t].height+B),s=(r+a-w[t].left+D)/(w[t].width+D),p=(e=G(s,l,w[t].speed,w[t].verticalSpeed,w[t].horizontalSpeed)).y-w[t].baseY,d=e.x-w[t].baseX;null!==w[t].min&&(P.options.vertical&&!P.options.horizontal&&(p=p<=w[t].min?w[t].min:p),P.options.horizontal&&!P.options.vertical&&(d=d<=w[t].min?w[t].min:d)),null!=w[t].minY&&(p=p<=w[t].minY?w[t].minY:p),null!=w[t].minX&&(d=d<=w[t].minX?w[t].minX:d),null!==w[t].max&&(P.options.vertical&&!P.options.horizontal&&(p=p>=w[t].max?w[t].max:p),P.options.horizontal&&!P.options.vertical&&(d=d>=w[t].max?w[t].max:d)),null!=w[t].maxY&&(p=p>=w[t].maxY?w[t].maxY:p),null!=w[t].maxX&&(d=d>=w[t].maxX?w[t].maxX:d);var c=w[t].zindex,u="translate3d("+(P.options.horizontal?d:"0")+"px,"+(P.options.vertical?p:"0")+"px,"+c+"px) "+w[t].transform;P.elems[t].style[x]=u}P.options.callback(e)};return P.destroy=function(){for(var e=0;e<P.elems.length;e++)P.elems[e].style.cssText=w[e].style;n||(window.removeEventListener("resize",d),n=!0),l(r),r=null},d(),P.refresh=d,P}console.warn("Rellax: The elements you're trying to select don't exist.")};return g},e.exports?e.exports=o():t.Rellax=o()}(e={exports:{}},e.exports),e.exports),i=new WeakMap,t=function(e,t,o){var n=t.value;!1!==n&&i.set(e,new r(e,n))},a=function(e){var t=i.get(e);t&&t.destroy()},o=function(e){a(e)},l=function(e,t,o){var n=t.value;a(e),!1!==n&&i.set(e,new r(e,n))};return{install:function(e){e.directive("rellax",{inserted:t,update:l,unbind:o})}}});
